properties:
  template:
    containers:
      - name: {{ container_app_name }}
        image: {{ registry_name }}.azurecr.io/{{ image_name }}:{{ image_tag }}
        resources:
          cpu: 0.5
          memory: 1.0Gi
        probes:
          - type: Liveness
            httpGet:
              path: /api/health
              port: 8888
              scheme: HTTP
            initialDelaySeconds: 2
            periodSeconds: 10
          - type: Readiness
            httpGet:
              path: /api/health
              port: 8888
              scheme: HTTP
            initialDelaySeconds: 2
            periodSeconds: 10
    scale:
      minReplicas: 1
      maxReplicas: 4
      rules:
        - name: http-scaler
          http:
            metadata:
              concurrentRequests: "10"
